// Code generated by Fern. DO NOT EDIT.

package crm

import (
	json "encoding/json"
	fmt "fmt"
	internal "github.com/merge-api/merge-go-client/internal"
	big "math/big"
)

var (
	endUserDetailsRequestFieldEndUserEmailAddress       = big.NewInt(1 << 0)
	endUserDetailsRequestFieldEndUserOrganizationName   = big.NewInt(1 << 1)
	endUserDetailsRequestFieldEndUserOriginId           = big.NewInt(1 << 2)
	endUserDetailsRequestFieldCategories                = big.NewInt(1 << 3)
	endUserDetailsRequestFieldIntegration               = big.NewInt(1 << 4)
	endUserDetailsRequestFieldLinkExpiryMins            = big.NewInt(1 << 5)
	endUserDetailsRequestFieldShouldCreateMagicLinkUrl  = big.NewInt(1 << 6)
	endUserDetailsRequestFieldHideAdminMagicLink        = big.NewInt(1 << 7)
	endUserDetailsRequestFieldCommonModels              = big.NewInt(1 << 8)
	endUserDetailsRequestFieldCategoryCommonModelScopes = big.NewInt(1 << 9)
	endUserDetailsRequestFieldLanguage                  = big.NewInt(1 << 10)
	endUserDetailsRequestFieldAreSyncsDisabled          = big.NewInt(1 << 11)
	endUserDetailsRequestFieldIntegrationSpecificConfig = big.NewInt(1 << 12)
)

type EndUserDetailsRequest struct {
	// Your end user's email address. This is purely for identification purposes - setting this value will not cause any emails to be sent.
	EndUserEmailAddress string `json:"end_user_email_address" url:"-"`
	// Your end user's organization.
	EndUserOrganizationName string `json:"end_user_organization_name" url:"-"`
	// This unique identifier typically represents the ID for your end user in your product's database. This value must be distinct from other Linked Accounts' unique identifiers.
	EndUserOriginId string `json:"end_user_origin_id" url:"-"`
	// The integration categories to show in Merge Link.
	Categories []CategoriesEnum `json:"categories,omitempty" url:"-"`
	// The slug of a specific pre-selected integration for this linking flow token. For examples of slugs, see https://docs.merge.dev/guides/merge-link/single-integration/.
	Integration *string `json:"integration,omitempty" url:"-"`
	// An integer number of minutes between [30, 720 or 10080 if for a Magic Link URL] for how long this token is valid. Defaults to 30.
	LinkExpiryMins *int `json:"link_expiry_mins,omitempty" url:"-"`
	// Whether to generate a Magic Link URL. Defaults to false. For more information on Magic Link, see https://merge.dev/blog/integrations-fast-say-hello-to-magic-link.
	ShouldCreateMagicLinkUrl *bool `json:"should_create_magic_link_url,omitempty" url:"-"`
	// Whether to generate a Magic Link URL on the Admin Needed screen during the linking flow. Defaults to false. For more information on Magic Link, see https://merge.dev/blog/integrations-fast-say-hello-to-magic-link.
	HideAdminMagicLink *bool `json:"hide_admin_magic_link,omitempty" url:"-"`
	// An array of objects to specify the models and fields that will be disabled for a given Linked Account. Each object uses model_id, enabled_actions, and disabled_fields to specify the model, method, and fields that are scoped for a given Linked Account.
	CommonModels []*CommonModelScopesBodyRequest `json:"common_models,omitempty" url:"-"`
	// When creating a Link Token, you can set permissions for Common Models that will apply to the account that is going to be linked. Any model or field not specified in link token payload will default to existing settings.
	CategoryCommonModelScopes map[string][]*IndividualCommonModelScopeDeserializerRequest `json:"category_common_model_scopes,omitempty" url:"-"`
	// The following subset of IETF language tags can be used to configure localization.
	//
	// * `en` - en
	// * `de` - de
	Language *EndUserDetailsRequestLanguage `json:"language,omitempty" url:"-"`
	// The boolean that indicates whether initial, periodic, and force syncs will be disabled.
	AreSyncsDisabled *bool `json:"are_syncs_disabled,omitempty" url:"-"`
	// A JSON object containing integration-specific configuration options.
	IntegrationSpecificConfig map[string]interface{} `json:"integration_specific_config,omitempty" url:"-"`

	// Private bitmask of fields set to an explicit value and therefore not to be omitted
	explicitFields *big.Int `json:"-" url:"-"`
}

func (e *EndUserDetailsRequest) require(field *big.Int) {
	if e.explicitFields == nil {
		e.explicitFields = big.NewInt(0)
	}
	e.explicitFields.Or(e.explicitFields, field)
}

// SetEndUserEmailAddress sets the EndUserEmailAddress field and marks it as non-optional;
// this prevents an empty or null value for this field from being omitted during serialization.
func (e *EndUserDetailsRequest) SetEndUserEmailAddress(endUserEmailAddress string) {
	e.EndUserEmailAddress = endUserEmailAddress
	e.require(endUserDetailsRequestFieldEndUserEmailAddress)
}

// SetEndUserOrganizationName sets the EndUserOrganizationName field and marks it as non-optional;
// this prevents an empty or null value for this field from being omitted during serialization.
func (e *EndUserDetailsRequest) SetEndUserOrganizationName(endUserOrganizationName string) {
	e.EndUserOrganizationName = endUserOrganizationName
	e.require(endUserDetailsRequestFieldEndUserOrganizationName)
}

// SetEndUserOriginId sets the EndUserOriginId field and marks it as non-optional;
// this prevents an empty or null value for this field from being omitted during serialization.
func (e *EndUserDetailsRequest) SetEndUserOriginId(endUserOriginId string) {
	e.EndUserOriginId = endUserOriginId
	e.require(endUserDetailsRequestFieldEndUserOriginId)
}

// SetCategories sets the Categories field and marks it as non-optional;
// this prevents an empty or null value for this field from being omitted during serialization.
func (e *EndUserDetailsRequest) SetCategories(categories []CategoriesEnum) {
	e.Categories = categories
	e.require(endUserDetailsRequestFieldCategories)
}

// SetIntegration sets the Integration field and marks it as non-optional;
// this prevents an empty or null value for this field from being omitted during serialization.
func (e *EndUserDetailsRequest) SetIntegration(integration *string) {
	e.Integration = integration
	e.require(endUserDetailsRequestFieldIntegration)
}

// SetLinkExpiryMins sets the LinkExpiryMins field and marks it as non-optional;
// this prevents an empty or null value for this field from being omitted during serialization.
func (e *EndUserDetailsRequest) SetLinkExpiryMins(linkExpiryMins *int) {
	e.LinkExpiryMins = linkExpiryMins
	e.require(endUserDetailsRequestFieldLinkExpiryMins)
}

// SetShouldCreateMagicLinkUrl sets the ShouldCreateMagicLinkUrl field and marks it as non-optional;
// this prevents an empty or null value for this field from being omitted during serialization.
func (e *EndUserDetailsRequest) SetShouldCreateMagicLinkUrl(shouldCreateMagicLinkUrl *bool) {
	e.ShouldCreateMagicLinkUrl = shouldCreateMagicLinkUrl
	e.require(endUserDetailsRequestFieldShouldCreateMagicLinkUrl)
}

// SetHideAdminMagicLink sets the HideAdminMagicLink field and marks it as non-optional;
// this prevents an empty or null value for this field from being omitted during serialization.
func (e *EndUserDetailsRequest) SetHideAdminMagicLink(hideAdminMagicLink *bool) {
	e.HideAdminMagicLink = hideAdminMagicLink
	e.require(endUserDetailsRequestFieldHideAdminMagicLink)
}

// SetCommonModels sets the CommonModels field and marks it as non-optional;
// this prevents an empty or null value for this field from being omitted during serialization.
func (e *EndUserDetailsRequest) SetCommonModels(commonModels []*CommonModelScopesBodyRequest) {
	e.CommonModels = commonModels
	e.require(endUserDetailsRequestFieldCommonModels)
}

// SetCategoryCommonModelScopes sets the CategoryCommonModelScopes field and marks it as non-optional;
// this prevents an empty or null value for this field from being omitted during serialization.
func (e *EndUserDetailsRequest) SetCategoryCommonModelScopes(categoryCommonModelScopes map[string][]*IndividualCommonModelScopeDeserializerRequest) {
	e.CategoryCommonModelScopes = categoryCommonModelScopes
	e.require(endUserDetailsRequestFieldCategoryCommonModelScopes)
}

// SetLanguage sets the Language field and marks it as non-optional;
// this prevents an empty or null value for this field from being omitted during serialization.
func (e *EndUserDetailsRequest) SetLanguage(language *EndUserDetailsRequestLanguage) {
	e.Language = language
	e.require(endUserDetailsRequestFieldLanguage)
}

// SetAreSyncsDisabled sets the AreSyncsDisabled field and marks it as non-optional;
// this prevents an empty or null value for this field from being omitted during serialization.
func (e *EndUserDetailsRequest) SetAreSyncsDisabled(areSyncsDisabled *bool) {
	e.AreSyncsDisabled = areSyncsDisabled
	e.require(endUserDetailsRequestFieldAreSyncsDisabled)
}

// SetIntegrationSpecificConfig sets the IntegrationSpecificConfig field and marks it as non-optional;
// this prevents an empty or null value for this field from being omitted during serialization.
func (e *EndUserDetailsRequest) SetIntegrationSpecificConfig(integrationSpecificConfig map[string]interface{}) {
	e.IntegrationSpecificConfig = integrationSpecificConfig
	e.require(endUserDetailsRequestFieldIntegrationSpecificConfig)
}

// The following subset of IETF language tags can be used to configure localization.
//
// * `en` - en
// * `de` - de
type EndUserDetailsRequestLanguage struct {
	LanguageEnum LanguageEnum
	String       string

	typ string
}

func (e *EndUserDetailsRequestLanguage) GetLanguageEnum() LanguageEnum {
	if e == nil {
		return ""
	}
	return e.LanguageEnum
}

func (e *EndUserDetailsRequestLanguage) GetString() string {
	if e == nil {
		return ""
	}
	return e.String
}

func (e *EndUserDetailsRequestLanguage) UnmarshalJSON(data []byte) error {
	var valueLanguageEnum LanguageEnum
	if err := json.Unmarshal(data, &valueLanguageEnum); err == nil {
		e.typ = "LanguageEnum"
		e.LanguageEnum = valueLanguageEnum
		return nil
	}
	var valueString string
	if err := json.Unmarshal(data, &valueString); err == nil {
		e.typ = "String"
		e.String = valueString
		return nil
	}
	return fmt.Errorf("%s cannot be deserialized as a %T", data, e)
}

func (e EndUserDetailsRequestLanguage) MarshalJSON() ([]byte, error) {
	if e.typ == "LanguageEnum" || e.LanguageEnum != "" {
		return json.Marshal(e.LanguageEnum)
	}
	if e.typ == "String" || e.String != "" {
		return json.Marshal(e.String)
	}
	return nil, fmt.Errorf("type %T does not include a non-empty union type", e)
}

type EndUserDetailsRequestLanguageVisitor interface {
	VisitLanguageEnum(LanguageEnum) error
	VisitString(string) error
}

func (e *EndUserDetailsRequestLanguage) Accept(visitor EndUserDetailsRequestLanguageVisitor) error {
	if e.typ == "LanguageEnum" || e.LanguageEnum != "" {
		return visitor.VisitLanguageEnum(e.LanguageEnum)
	}
	if e.typ == "String" || e.String != "" {
		return visitor.VisitString(e.String)
	}
	return fmt.Errorf("type %T does not include a non-empty union type", e)
}

var (
	commonModelScopesBodyRequestFieldModelId        = big.NewInt(1 << 0)
	commonModelScopesBodyRequestFieldEnabledActions = big.NewInt(1 << 1)
	commonModelScopesBodyRequestFieldDisabledFields = big.NewInt(1 << 2)
)

type CommonModelScopesBodyRequest struct {
	ModelId        string               `json:"model_id" url:"model_id"`
	EnabledActions []EnabledActionsEnum `json:"enabled_actions" url:"enabled_actions"`
	DisabledFields []string             `json:"disabled_fields" url:"disabled_fields"`

	// Private bitmask of fields set to an explicit value and therefore not to be omitted
	explicitFields *big.Int `json:"-" url:"-"`

	extraProperties map[string]interface{}
	rawJSON         json.RawMessage
}

func (c *CommonModelScopesBodyRequest) GetModelId() string {
	if c == nil {
		return ""
	}
	return c.ModelId
}

func (c *CommonModelScopesBodyRequest) GetEnabledActions() []EnabledActionsEnum {
	if c == nil {
		return nil
	}
	return c.EnabledActions
}

func (c *CommonModelScopesBodyRequest) GetDisabledFields() []string {
	if c == nil {
		return nil
	}
	return c.DisabledFields
}

func (c *CommonModelScopesBodyRequest) GetExtraProperties() map[string]interface{} {
	return c.extraProperties
}

func (c *CommonModelScopesBodyRequest) require(field *big.Int) {
	if c.explicitFields == nil {
		c.explicitFields = big.NewInt(0)
	}
	c.explicitFields.Or(c.explicitFields, field)
}

// SetModelId sets the ModelId field and marks it as non-optional;
// this prevents an empty or null value for this field from being omitted during serialization.
func (c *CommonModelScopesBodyRequest) SetModelId(modelId string) {
	c.ModelId = modelId
	c.require(commonModelScopesBodyRequestFieldModelId)
}

// SetEnabledActions sets the EnabledActions field and marks it as non-optional;
// this prevents an empty or null value for this field from being omitted during serialization.
func (c *CommonModelScopesBodyRequest) SetEnabledActions(enabledActions []EnabledActionsEnum) {
	c.EnabledActions = enabledActions
	c.require(commonModelScopesBodyRequestFieldEnabledActions)
}

// SetDisabledFields sets the DisabledFields field and marks it as non-optional;
// this prevents an empty or null value for this field from being omitted during serialization.
func (c *CommonModelScopesBodyRequest) SetDisabledFields(disabledFields []string) {
	c.DisabledFields = disabledFields
	c.require(commonModelScopesBodyRequestFieldDisabledFields)
}

func (c *CommonModelScopesBodyRequest) UnmarshalJSON(data []byte) error {
	type unmarshaler CommonModelScopesBodyRequest
	var value unmarshaler
	if err := json.Unmarshal(data, &value); err != nil {
		return err
	}
	*c = CommonModelScopesBodyRequest(value)
	extraProperties, err := internal.ExtractExtraProperties(data, *c)
	if err != nil {
		return err
	}
	c.extraProperties = extraProperties
	c.rawJSON = json.RawMessage(data)
	return nil
}

func (c *CommonModelScopesBodyRequest) MarshalJSON() ([]byte, error) {
	type embed CommonModelScopesBodyRequest
	var marshaler = struct {
		embed
	}{
		embed: embed(*c),
	}
	explicitMarshaler := internal.HandleExplicitFields(marshaler, c.explicitFields)
	return json.Marshal(explicitMarshaler)
}

func (c *CommonModelScopesBodyRequest) String() string {
	if len(c.rawJSON) > 0 {
		if value, err := internal.StringifyJSON(c.rawJSON); err == nil {
			return value
		}
	}
	if value, err := internal.StringifyJSON(c); err == nil {
		return value
	}
	return fmt.Sprintf("%#v", c)
}

// * `READ` - READ
// * `WRITE` - WRITE
type EnabledActionsEnum string

const (
	EnabledActionsEnumRead  EnabledActionsEnum = "READ"
	EnabledActionsEnumWrite EnabledActionsEnum = "WRITE"
)

func NewEnabledActionsEnumFromString(s string) (EnabledActionsEnum, error) {
	switch s {
	case "READ":
		return EnabledActionsEnumRead, nil
	case "WRITE":
		return EnabledActionsEnumWrite, nil
	}
	var t EnabledActionsEnum
	return "", fmt.Errorf("%s is not a valid %T", s, t)
}

func (e EnabledActionsEnum) Ptr() *EnabledActionsEnum {
	return &e
}

// * `en` - en
// * `de` - de
type LanguageEnum string

const (
	LanguageEnumEn LanguageEnum = "en"
	LanguageEnumDe LanguageEnum = "de"
)

func NewLanguageEnumFromString(s string) (LanguageEnum, error) {
	switch s {
	case "en":
		return LanguageEnumEn, nil
	case "de":
		return LanguageEnumDe, nil
	}
	var t LanguageEnum
	return "", fmt.Errorf("%s is not a valid %T", s, t)
}

func (l LanguageEnum) Ptr() *LanguageEnum {
	return &l
}

var (
	linkTokenFieldLinkToken       = big.NewInt(1 << 0)
	linkTokenFieldIntegrationName = big.NewInt(1 << 1)
	linkTokenFieldMagicLinkUrl    = big.NewInt(1 << 2)
)

type LinkToken struct {
	LinkToken       string  `json:"link_token" url:"link_token"`
	IntegrationName *string `json:"integration_name,omitempty" url:"integration_name,omitempty"`
	MagicLinkUrl    *string `json:"magic_link_url,omitempty" url:"magic_link_url,omitempty"`

	// Private bitmask of fields set to an explicit value and therefore not to be omitted
	explicitFields *big.Int `json:"-" url:"-"`

	extraProperties map[string]interface{}
	rawJSON         json.RawMessage
}

func (l *LinkToken) GetLinkToken() string {
	if l == nil {
		return ""
	}
	return l.LinkToken
}

func (l *LinkToken) GetIntegrationName() *string {
	if l == nil {
		return nil
	}
	return l.IntegrationName
}

func (l *LinkToken) GetMagicLinkUrl() *string {
	if l == nil {
		return nil
	}
	return l.MagicLinkUrl
}

func (l *LinkToken) GetExtraProperties() map[string]interface{} {
	return l.extraProperties
}

func (l *LinkToken) require(field *big.Int) {
	if l.explicitFields == nil {
		l.explicitFields = big.NewInt(0)
	}
	l.explicitFields.Or(l.explicitFields, field)
}

// SetLinkToken sets the LinkToken field and marks it as non-optional;
// this prevents an empty or null value for this field from being omitted during serialization.
func (l *LinkToken) SetLinkToken(linkToken string) {
	l.LinkToken = linkToken
	l.require(linkTokenFieldLinkToken)
}

// SetIntegrationName sets the IntegrationName field and marks it as non-optional;
// this prevents an empty or null value for this field from being omitted during serialization.
func (l *LinkToken) SetIntegrationName(integrationName *string) {
	l.IntegrationName = integrationName
	l.require(linkTokenFieldIntegrationName)
}

// SetMagicLinkUrl sets the MagicLinkUrl field and marks it as non-optional;
// this prevents an empty or null value for this field from being omitted during serialization.
func (l *LinkToken) SetMagicLinkUrl(magicLinkUrl *string) {
	l.MagicLinkUrl = magicLinkUrl
	l.require(linkTokenFieldMagicLinkUrl)
}

func (l *LinkToken) UnmarshalJSON(data []byte) error {
	type unmarshaler LinkToken
	var value unmarshaler
	if err := json.Unmarshal(data, &value); err != nil {
		return err
	}
	*l = LinkToken(value)
	extraProperties, err := internal.ExtractExtraProperties(data, *l)
	if err != nil {
		return err
	}
	l.extraProperties = extraProperties
	l.rawJSON = json.RawMessage(data)
	return nil
}

func (l *LinkToken) MarshalJSON() ([]byte, error) {
	type embed LinkToken
	var marshaler = struct {
		embed
	}{
		embed: embed(*l),
	}
	explicitMarshaler := internal.HandleExplicitFields(marshaler, l.explicitFields)
	return json.Marshal(explicitMarshaler)
}

func (l *LinkToken) String() string {
	if len(l.rawJSON) > 0 {
		if value, err := internal.StringifyJSON(l.rawJSON); err == nil {
			return value
		}
	}
	if value, err := internal.StringifyJSON(l); err == nil {
		return value
	}
	return fmt.Sprintf("%#v", l)
}
